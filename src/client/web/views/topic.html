<div class="content-body">
    <div class="row">
        <div class="col-md-12 box">
            <div class="row">
                <div class="col-md-8">
                    <h4><a href = "/forum">Forum</a> - <a href= "/forum/{{board.id}}">{{board.name}}</a> - {{topic.title}}</h4>
                </div>
                <div class="col-md-4 text-right">
                    <button ng-show="currentUser.authenticated && !topic.locked" ng-click="showReplyForm()" class="btn btn-default">Reply to this topic</button>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-repeat="post in posts">
        <div class="col-md-12 box">
            <div class="col-md-2">
                <forumuserprofile user="post.user"></forumuserprofile>
            </div>
            <div class="col-md-10">
                <article class="postcontent">
                    <p ng-bind-html="post.mContent | unsafe"></p>
                    <div ng-show="post.user.sig" class="signature">
                        {{post.user.sig}}
                    </div>
                </article>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 box">
            <div class="row">
                <div class="col-md-8">
                    <h4><a href = "/forum">Forum</a> - <a href= "/forum/{{board.id}}">{{board.name}}</a> - {{topic.title}}</h4>
                </div>
                <div class="col-md-4 text-right">
                    <button ng-show="currentUser.authenticated && !topic.locked" ng-click="showReplyForm()" class="btn btn-default">Reply to this topic</button>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-show="isShowingReplyForm">
        <div class="col-md-12 box">
            <post-editor board="board.id" topic="topic.id"></post-editor>
        </div>
    </div>
</div>